<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AddWeight</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
</head>
<body>
<H1>AddWeight</H1>

<span class="username" th:text="${#authentication.getPrincipal().getUsername()}">User-Email</span>
<form th:action="@{/logout}" method="post">
    <input type="submit" value="Logout">
</form>

<button onclick="location.href='/'" id="toHome"type="button">
    Home</button>

<button onclick="location.href='/addweight'" id="toAddweight"type="button">
    addWeight</button>

<button onclick="location.href='/about'" id="toAbout"type="button">
    About</button>
<!--
Source: https://github.com/Frontend-Paathshala/Datepicker-Bootstrap-4/blob/main/index.html
Source: https://www.youtube.com/watch?v=8ptKpzW-KLo&ab_channel=FrontendPaathshala
-->

<section class="container">
    <form method="post" th:action="'/editweight/' + ${weightEntry.id}" enctype="multipart/form-data">
        <h3>Input date</h3>
        <div class="input-group date" id="datepicker">
            <input type="text" id="date" name="date" th:value="${#dates.format(weightEntry.date, 'MM/dd/yyyy')}">
            <span class="input-group-append">
                            <span class="input-group-text bg-white">
                                <i class="fa fa-calendar"></i>
                            </span>
                        </span>
        </div>
        <h3>Input Weight</h3>
        <input type="number" id="weight" name="weight" th:value="${weightEntry.weight}">
        <br/>
        <div>
            <label>Front: </label>
            <input type="file" name="front" accept="image/png, image/jpeg"/>
        </div>
        <img th:if="${front != null}" th:src="'/weightentries/' + ${weightEntry.id} + '/images/' + ${front.id}">
        <div>
            <label>Back: </label>
            <input type="file" name="back" accept="image/png, image/jpeg"/>
        </div>
        <img th:if="${back != null}" th:src="'/weightentries/' + ${weightEntry.id} + '/images/' + ${back.id}">
        <div>
            <label>Side: </label>
            <input type="file" name="side" accept="image/png, image/jpeg"/>
        </div>
        <img th:if="${side != null}" th:src="'/weightentries/' + ${weightEntry.id} + '/images/' + ${side.id}">
        <br>
        <input type="submit" value="Update WeightEntry">
    </form>
</section>

<script type="text/javascript">
    $(function () {
        $('#datepicker').datepicker();
    });
</script>
</body>
</html>